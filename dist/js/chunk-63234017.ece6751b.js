(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-63234017"],{"3ca3":function(t,e,r){"use strict";var n=r("6547").charAt,a=r("69f3"),i=r("7dd0"),o="String Iterator",s=a.set,c=a.getterFor(o);i(String,"String",(function(t){s(this,{type:o,string:String(t),index:0})}),(function(){var t,e=c(this),r=e.string,a=e.index;return a>=r.length?{value:void 0,done:!0}:(t=n(r,a),e.index+=t.length,{value:t,done:!1})}))},"4df4":function(t,e,r){"use strict";var n=r("0366"),a=r("7b0b"),i=r("9bdd"),o=r("e95a"),s=r("50c4"),c=r("8418"),u=r("35a1");t.exports=function(t){var e,r,l,f,d,p,v=a(t),b="function"==typeof this?this:Array,m=arguments.length,g=m>1?arguments[1]:void 0,h=void 0!==g,y=u(v),x=0;if(h&&(g=n(g,m>2?arguments[2]:void 0,2)),void 0==y||b==Array&&o(y))for(e=s(v.length),r=new b(e);e>x;x++)p=h?g(v[x],x):v[x],c(r,x,p);else for(f=y.call(v),d=f.next,r=new b;!(l=d.call(f)).done;x++)p=h?i(f,g,[l.value,x],!0):l.value,c(r,x,p);return r.length=x,r}},a630:function(t,e,r){var n=r("23e7"),a=r("4df4"),i=r("1c7e"),o=!i((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:o},{from:a})},b85c:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("a630"),r("fb6a"),r("b0c0"),r("25f0");function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function a(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function i(t,e){var r;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=a(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return s=t.done,t},e:function(t){c=!0,o=t},f:function(){try{s||null==r["return"]||r["return"]()}finally{if(c)throw o}}}}},bf19:function(t,e,r){"use strict";var n=r("23e7");n({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},c66d:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.loading?r("Loader",{attrs:{size:7}}):r("div",{staticClass:"profile"},[r("div",{staticClass:"container"},[r("div",{staticClass:"profile-info"},[t.yourProfile||t.friend?t._e():r("b-button",{on:{click:function(e){return e.preventDefault(),t.addFriend(e)}}},[t._v("Добавить в друзья")]),r("b-avatar",{attrs:{src:t.avatar,size:"10rem"}}),r("div",{staticClass:"profile-info__desc"},[r("h3",{staticClass:"profile-info__name"},[t._v(t._s(t.name))]),r("p",{staticClass:"profile-info__desc-info"},[t._v(" "+t._s(t.description)+" ")])])],1),r("div",{staticClass:"posts-block"},[r("div",{staticClass:"tools"},[r("div",[t.yourProfile?r("form",{staticClass:"flex-column align-items-center d-flex",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("b-form-textarea",{staticClass:"textarea-m",attrs:{id:"textarea-rows",placeholder:"Пишите что хотите!",rows:"5"},model:{value:t.postMessage,callback:function(e){t.postMessage="string"===typeof e?e.trim():e},expression:"postMessage"}}),r("b-button",{attrs:{variant:"primary",type:"submit"}},[r("b-icon",{attrs:{icon:"box-arrow-in-right"}}),t._v(" Отправить пост ")],1)],1):t._e()])]),t.posts?r("div",{staticClass:"posts post-zam"},t._l(t.posts,(function(e){return r("Post",{key:e.id,attrs:{message:e.postMessage,avatar:t.avatar,date:e.date,id:e.id,yourProfile:t.yourProfile}})})),1):r("p",{staticClass:"post-zam text__no-posts"},[t._v("У вас ещё нет постов!")])])])])},a=[],i=(r("a4d3"),r("e01a"),r("b0c0"),r("bf19"),r("b85c")),o=(r("96cf"),r("1da1")),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{staticClass:"mb-3 card-post"},[r("div",{staticClass:"post-mess"},[r("b-avatar",{staticClass:"mr-3",attrs:{variant:"info",src:t.avatar}}),r("b-card-text",[t._v(" "+t._s(t.message)+" ")])],1),r("div",[r("p",{staticClass:"text-sm-right date"},[t._v(t._s(t._f("dateFilter")(t.date,"datetime")))]),!t.active&&t.yourProfile?r("b-icon",{staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{icon:"x-octagon",scale:"1.5em"},on:{mouseenter:function(e){t.active=!0},mouseleave:function(e){t.active=!1}}}):t.active&&t.yourProfile?r("b-icon",{staticClass:"float-right",staticStyle:{cursor:"pointer"},attrs:{icon:"x-octagon",scale:"1.5em",animation:"spin"},on:{mouseenter:function(e){t.active=!1},mouseleave:function(e){t.active=!1},click:function(e){return e.preventDefault(),t.deletePost(e)}}}):t._e()],1)])},c=[],u={name:"Post",data:function(){return{active:!1}},methods:{deletePost:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("deletePost",t.id);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),console.log(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))()}},props:["message","avatar","date","id","yourProfile"]},l=u,f=r("2877"),d=Object(f["a"])(l,s,c,!1,null,"4681db9c",null),p=d.exports,v={name:"Profile",data:function(){return{loading:!0,name:"",description:null,postMessage:"",posts:[],uid:null,id:null,info:null,avatar:null,yourProfile:!0,friend:!1}},mounted:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r,n,a,o,s,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("getUid");case 3:t.uid=e.sent,t.id=t.$route.params.id,t.yourProfile=t.uid===t.id,r=t.$store.getters.friends,n=Object(i["a"])(r),e.prev=8,n.s();case 10:if((a=n.n()).done){e.next=17;break}if(o=a.value,t.id!==o.id){e.next=15;break}return t.friend=!0,e.abrupt("break",17);case 15:e.next=10;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](8),n.e(e.t0);case 22:return e.prev=22,n.f(),e.finish(22);case 25:if(!t.yourProfile){e.next=29;break}e.t1=t.$store.getters.info,e.next=32;break;case 29:return e.next=31,t.$store.dispatch("getInfo",t.id);case 31:e.t1=e.sent;case 32:return t.info=e.t1,s=t.info.firstName,c=t.info.surName,t.description=t.info.description||"Вы ещё не задали описание профиля!",t.name=s+" "+c,e.next=39,t.$store.dispatch("getAvatar",t.id);case 39:if(e.t2=e.sent,e.t2){e.next=42;break}e.t2="";case 42:return t.avatar=e.t2,e.next=45,t.$store.dispatch("fetchPosts",t.id);case 45:t.posts=e.sent,e.next=51;break;case 48:e.prev=48,e.t3=e["catch"](0),console.log(e.t3);case 51:t.loading=!1;case 52:case"end":return e.stop()}}),e,null,[[0,48],[8,19,22,25]])})))()},methods:{onSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r=(new Date).toJSON(),e.next=4,t.$store.dispatch("addPost",{postMessage:t.postMessage,date:r});case 4:t.posts=t.$store.getters.posts,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},addFriend:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$store.dispatch("addFriend",t.id);case 3:t.friend=!0,e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))()}},components:{Post:p},watch:{$route:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a,o,s,c,u;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.id=t.params.id,n=e.$store.getters.friends,a=Object(i["a"])(n),r.prev=3,a.s();case 5:if((o=a.n()).done){r.next=12;break}if(s=o.value,e.id!==s){r.next=10;break}return e.friend=!0,r.abrupt("break",12);case 10:r.next=5;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](3),a.e(r.t0);case 17:return r.prev=17,a.f(),r.finish(17);case 20:if(e.yourProfile=e.uid===e.id,!e.yourProfile){r.next=25;break}r.t1=e.$store.getters.info,r.next=28;break;case 25:return r.next=27,e.$store.dispatch("getInfo",e.id);case 27:r.t1=r.sent;case 28:return e.info=r.t1,r.next=31,e.$store.dispatch("getAvatar",e.id);case 31:if(r.t2=r.sent,r.t2){r.next=34;break}r.t2="";case 34:return e.avatar=r.t2,r.next=37,e.$store.dispatch("fetchPosts",e.id);case 37:e.posts=r.sent,c=e.info.firstName,u=e.info.surName,e.description=e.info.description||"Вы ещё не задали описание профиля!",e.name=c+" "+u;case 42:case"end":return r.stop()}}),r,null,[[3,14,17,20]])})))()}}},b=v,m=Object(f["a"])(b,n,a,!1,null,"6870944c",null);e["default"]=m.exports},d28b:function(t,e,r){var n=r("746f");n("iterator")},e01a:function(t,e,r){"use strict";var n=r("23e7"),a=r("83ab"),i=r("da84"),o=r("5135"),s=r("861d"),c=r("9bf2").f,u=r("e893"),l=i.Symbol;if(a&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var f={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(f[e]=!0),e};u(d,l);var p=d.prototype=l.prototype;p.constructor=d;var v=p.toString,b="Symbol(test)"==String(l("test")),m=/^Symbol\((.*)\)[^)]+$/;c(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=v.call(t);if(o(f,t))return"";var r=b?e.slice(7,-1):e.replace(m,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:d})}},fb6a:function(t,e,r){"use strict";var n=r("23e7"),a=r("861d"),i=r("e8b5"),o=r("23cb"),s=r("50c4"),c=r("fc6a"),u=r("8418"),l=r("b622"),f=r("1dde"),d=r("ae40"),p=f("slice"),v=d("slice",{ACCESSORS:!0,0:0,1:2}),b=l("species"),m=[].slice,g=Math.max;n({target:"Array",proto:!0,forced:!p||!v},{slice:function(t,e){var r,n,l,f=c(this),d=s(f.length),p=o(t,d),v=o(void 0===e?d:e,d);if(i(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!i(r.prototype)?a(r)&&(r=r[b],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(f,p,v);for(n=new(void 0===r?Array:r)(g(v-p,0)),l=0;p<v;p++,l++)p in f&&u(n,l,f[p]);return n.length=l,n}})}}]);
//# sourceMappingURL=chunk-63234017.ece6751b.js.map